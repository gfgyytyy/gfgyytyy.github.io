"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[912],{6912:(L,p,n)=>{n.r(p),n.d(p,{TasksModule:()=>K});var i=n(1180),k=n(4755),C=n(5642),Z=n(4466),T=n(2480),d=n(9401),g=n(8372),t=n(2223),f=n(941),v=n(8097),x=n(9114),h=n(3276),u=n(2611),r=n(3627),b=n(9300),A=n(2912),y=n(430),D=n(1728),S=n(7081),Y=n(2475);function N(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Name "),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function M(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Progress "),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"td",13),t._UZ(1,"mat-progress-bar",15),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Q6J("value",o.progress)}}function J(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Created At "),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"localDate"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,o.createdAt)," ")}}function B(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Due At "),t.qZA())}function F(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"localDate"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.dueDate,"YYYY-MM-DD")," ")}}function R(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Actions "),t.qZA())}function $(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"td",13)(1,"button",16),t.NdJ("click",function(){const c=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.onDone(c))}),t.TgZ(2,"mat-icon"),t._uU(3,"done"),t.qZA()(),t.TgZ(4,"button",17),t.NdJ("click",function(){const c=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.onEdit(c))}),t.TgZ(5,"mat-icon"),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",18),t.NdJ("click",function(){const c=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.onDelete(c))}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}}function G(e,a){1&e&&t._UZ(0,"tr",19)}function j(e,a){1&e&&t._UZ(0,"tr",20)}let w=(()=>{class e{constructor(o,s){(0,i.Z)(this,"dialogService",void 0),(0,i.Z)(this,"taskService",void 0),(0,i.Z)(this,"tasks",[]),(0,i.Z)(this,"paginator",void 0),(0,i.Z)(this,"sort",void 0),(0,i.Z)(this,"dataSource",new r.by([...this.tasks])),this.dialogService=o,this.taskService=s}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnChanges(o){const s=o.tasks;s&&(this.dataSource.data=[...s.currentValue])}get displayedColumns(){return["name","progress","createdAt","dueDate","actions"]}onEdit(o){this.dialogService.openTaskForm(o).subscribe(s=>{s&&this.taskService.updateTask(o,s)})}onDone(o){this.taskService.finishTask(o)}onDelete(o){this.dialogService.openConfirm(`Are you sure you want to delete ${o.name}?`,"Confirming delete").pipe((0,b.h)(s=>s)).subscribe(()=>{this.taskService.deleteTask(o.key)})}}return(0,i.Z)(e,"\u0275fac",function(o){return new(o||e)(t.Y36(A.x),t.Y36(f.M))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["app-task-table"]],viewQuery:function(o,s){if(1&o&&(t.Gf(h.NW,5),t.Gf(u.YE,5)),2&o){let l;t.iGM(l=t.CRH())&&(s.paginator=l.first),t.iGM(l=t.CRH())&&(s.sort=l.first)}},inputs:{tasks:"tasks"},features:[t.TTD],decls:20,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","progress"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["matColumnDef","dueDate"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[3,"value"],["mat-icon-button","",3,"click"],["color","primary","mat-icon-button","",3,"click"],["color","warn","mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,s){1&o&&(t.TgZ(0,"div")(1,"table",0),t.ynx(2,1),t.YNc(3,N,2,0,"th",2),t.YNc(4,U,2,1,"td",3),t.BQk(),t.ynx(5,4),t.YNc(6,M,2,0,"th",5),t.YNc(7,Q,2,1,"td",3),t.BQk(),t.ynx(8,6),t.YNc(9,J,2,0,"th",5),t.YNc(10,H,3,3,"td",3),t.BQk(),t.ynx(11,7),t.YNc(12,B,2,0,"th",5),t.YNc(13,F,3,4,"td",3),t.BQk(),t.ynx(14,8),t.YNc(15,R,2,0,"th",2),t.YNc(16,$,10,0,"td",3),t.BQk(),t.YNc(17,G,1,0,"tr",9),t.YNc(18,j,1,0,"tr",10),t.qZA(),t._UZ(19,"mat-paginator",11),t.qZA()),2&o&&(t.xp6(1),t.Q6J("dataSource",s.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("pageSize",10))},dependencies:[y.Hw,D.RK,S.pW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,h.NW,u.YE,u.nU,Y.H]})),e})();const z=[{path:"",children:[{path:"",component:(()=>{class e{constructor(o){(0,i.Z)(this,"taskService",void 0),(0,i.Z)(this,"originTasks",[]),(0,i.Z)(this,"query",""),(0,i.Z)(this,"tasks",[]),(0,i.Z)(this,"searchFormControl",new d.p4("")),this.taskService=o,this.originTasks=o.tasks,this.tasks=this.originTasks,this.taskService.tasks$.subscribe(s=>{this.originTasks=s,this.updateTasks()}),this.searchFormControl.valueChanges.pipe((0,g.b)(300)).subscribe(s=>{this.query=s,this.updateTasks()})}updateTasks(){const{query:o}=this;this.tasks=this.originTasks.filter(s=>s.name.includes(o)||s.description.includes(o)||s.title.includes(o))}}return(0,i.Z)(e,"\u0275fac",function(o){return new(o||e)(t.Y36(f.M))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["app-tasks"]],decls:5,vars:2,consts:[[1,"grid","grid-cols-1","gap-3"],[1,"flex","items-center"],["appearance","outline",1,"w-full","-mb-5","mr-4"],["placeholder","search something like name, description...","matInput","",3,"formControl"],[3,"tasks"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2),t._UZ(3,"input",3),t.qZA()(),t._UZ(4,"app-task-table",4),t.qZA()),2&o&&(t.xp6(3),t.Q6J("formControl",s.searchFormControl),t.xp6(1),t.Q6J("tasks",s.tasks))},dependencies:[v.Nt,x.KE,d.Fj,d.JJ,d.oH,w]})),e})()}]}];let E=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(o){return new(o||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[T.Bz.forChild(z),T.Bz]})),e})(),K=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(o){return new(o||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[k.ez,Z.m,C.K,E]})),e})()}}]);